# Data Sources Documentation

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Japan Energy Dashboard. –û–±–Ω–æ–≤–ª–µ–Ω–æ: 2025-11-05

---

## üìä 1. TEPCO (Tokyo Electric Power Company)

### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–†–µ–≥–∏–æ–Ω**: Tokyo area (Kanto: Tokyo, Kanagawa, Saitama, Chiba –∏ –æ–∫—Ä—É–∂–∞—é—â–∏–µ –ø—Ä–µ—Ñ–µ–∫—Ç—É—Ä—ã)
- **–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö**: Hourly electricity demand (actual + forecast)
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç**: https://www.tepco.co.jp/en/forecast/html/index-e.html

### ‚úÖ –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (2025-11-03)
**–†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û** ‚úÖ

```
–¢–µ—Å—Ç: ./fetch-demand -area tokyo -date 2025-11-03 --use-http
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úì SUCCESS
–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 193ms
–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 2791 bytes
–¢–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö: 24 (hourly)
```

### –î–∞–Ω–Ω—ã–µ –∑–∞ 2025-11-03
```json
Demand range: 21,270 - 30,730 MW
Average demand: 26,103 MW
Peak time: ~13:00-14:00 (30,730 MW)
Night minimum: 01:00 (21,270 MW)
Forecast available: Yes (–≤—Å–µ–≥–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
```

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

**URL —à–∞–±–ª–æ–Ω –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏:**
```
https://www.tepco.co.jp/forecast/html/images/YYYYMM_power_usage.zip
```
–ü—Ä–∏–º–µ—Ä: `202511_power_usage.zip` –¥–ª—è –Ω–æ—è–±—Ä—è 2025

**–§–∞–π–ª –≤–Ω—É—Ç—Ä–∏ ZIP:**
```
YYYYMMDD_power_usage.csv
```
–ü—Ä–∏–º–µ—Ä: `20251103_power_usage.csv`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ CSV:**
```csv
DATE,TIME,ÂÆüÁ∏æ(‰∏ákW),‰∫àÊ∏¨(‰∏ákW)
2025-11-03,0:00,2209.0,2193.0
2025-11-03,1:00,2127.0,2095.0
...
```

### –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è
- **CSV**: ‰∏ákW (10,000 kW) = 10 MW
- **–ö–æ–Ω–≤–µ—Ä—Å–∏—è**: CSV –∑–Ω–∞—á–µ–Ω–∏–µ √ó 10 = MW
- **–ü—Ä–∏–º–µ—Ä**: CSV=2209.0 ‚Üí JSON=22,090 MW

### –ö–æ–¥–∏—Ä–æ–≤–∫–∞
- **–§–æ—Ä–º–∞—Ç**: Shift-JIS (—è–ø–æ–Ω—Å–∫–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è –≤ UTF-8 —á–µ—Ä–µ–∑ `golang.org/x/text/encoding/japanese`

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **–ü—Ä–µ–¥—ã–¥—É—â–∏–π –¥–µ–Ω—å**: ~6:00 AM JST (–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- **–§–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: ~6:30 PM JST (—Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**: –î–∞–Ω–Ω—ã–µ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 1 –¥–µ–Ω—å

### –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ZIP –∞—Ä—Ö–∏–≤ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- Shift-JIS ‚Üí UTF-8 –∫–æ–Ω–≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–∞—Ä—Å–∏–Ω–≥ CSV –±–µ–∑ –æ—à–∏–±–æ–∫
- 24 —Ç–æ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö (00:00-23:00)
- Forecast –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –ó–Ω–∞—á–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º (~20-30 GW –¥–ª—è Tokyo)

‚ö†Ô∏è **–ó–∞–º–µ—á–∞–Ω–∏—è:**
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ–Ω—ã –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ó–Ω–∞—á–µ–Ω–∏–µ "0" –æ–∑–Ω–∞—á–∞–µ—Ç –Ω–µ–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- Hourly forecast –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–µ–Ω–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–∂–µ–Ω–∏–µ

### –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```
–¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è Tokyo area:
- –ù–æ—á—å (00:00-06:00): 20,000-25,000 MW
- –î–µ–Ω—å (10:00-18:00): 27,000-35,000 MW
- –ü–∏–∫ (13:00-14:00): 30,000-45,000 MW (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–µ–∑–æ–Ω–∞)
- –ú–∏–Ω–∏–º—É–º: –æ–±—ã—á–Ω–æ 01:00-04:00

–õ–µ—Ç–æ–º (–∏—é–ª—å-–∞–≤–≥—É—Å—Ç): –ø–∏–∫ –º–æ–∂–µ—Ç –¥–æ—Å—Ç–∏–≥–∞—Ç—å 50,000+ MW (–∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã)
–ó–∏–º–æ–π (–¥–µ–∫–∞–±—Ä—å-—Ñ–µ–≤—Ä–∞–ª—å): –ø–∏–∫ 40,000-45,000 MW (–æ—Ç–æ–ø–ª–µ–Ω–∏–µ)
```

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- Download page: https://www.tepco.co.jp/en/forecast/html/download-e.html
- Calendar: https://www.tepco.co.jp/en/forecast/html/calendar-e.html
- CSV help: http://www.tepco.co.jp/en/forecast/html/csv_help-e.html

---

## üìä 2. Kansai Electric Power Company

### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–†–µ–≥–∏–æ–Ω**: Kansai area (Osaka, Kyoto, Hyogo, Nara, Shiga, Wakayama)
- **–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö**: Hourly electricity demand (actual + forecast)
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç**: https://www.kansai-td.co.jp/english/home/denkiyoho/

### ‚ùå –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (2025-11-03)
**–ù–ï –†–ê–ë–û–¢–ê–ï–¢ - HTTP 404** ‚ùå

```
–¢–µ—Å—Ç: ./fetch-demand -area kansai -date 2025-11-03 --use-http
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úó FAILED
–û—à–∏–±–∫–∞: HTTP 404 from https://www.kansai-td.co.jp/denkiyoho/download.html
Fallback: testdata (–Ω–æ –¥–∞–Ω–Ω—ã—Ö –∑–∞ 2025-11-03 –Ω–µ—Ç)
```

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

**1. –ù–µ–≤–µ—Ä–Ω—ã–π URL –≤ –∫–æ–¥–µ:**
```go
// –¢–µ–∫—É—â–∏–π (–ù–ï –†–ê–ë–û–¢–ê–ï–¢):
https://www.kansai-td.co.jp/denkiyoho/download.html ‚Üí 404

// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL (–Ω–∞–π–¥–µ–Ω —á–µ—Ä–µ–∑ WebSearch):
https://www.kansai-td.co.jp/english/home/denkiyoho/area-performance/index.html
```

**2. –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω:**
- –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é CSV —Ñ–æ—Ä–º–∞—Ç–∞
- –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è ‰∏ákW –∫–∞–∫ —É TEPCO)
- –ö–æ–¥–∏—Ä–æ–≤–∫–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ (–≤–µ—Ä–æ—è—Ç–Ω–æ UTF-8 –∏–ª–∏ Shift-JIS)

**3. Testdata —É—Å—Ç–∞—Ä–µ–ª–∏:**
```
Testdata CSV: internal/adapters/testdata/kansai-sample.csv
–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ 2025-11-03
```

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π)

**–û–∂–∏–¥–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ CSV (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ TEPCO):**
```csv
DATE,TIME,ÂÆüÁ∏æ(‰∏ákW),‰∫àÊ∏¨(‰∏ákW)
2025-11-03,0:00,1234.5,1256.2
...
```

### –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è (–Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!)
- **–ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: ‰∏ákW (10,000 kW) = 10 MW
- **–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –°–∫–∞—á–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π CSV –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **–ü—É–±–ª–∏–∫–∞—Ü–∏—è**: –ï–∂–µ–º–µ—Å—è—á–Ω–æ (actual supply/demand results)
- **–§–æ—Ä–º–∞—Ç**: CSV –Ω–∞ –æ—Å–Ω–æ–≤–µ "Disclosure Policy of System Information" (METI)

### –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```
–¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è Kansai area:
- –ù–æ—á—å (00:00-06:00): 10,000-15,000 MW
- –î–µ–Ω—å (10:00-18:00): 15,000-20,000 MW
- –ü–∏–∫ (13:00-14:00): 18,000-25,000 MW

Kansai –æ–±—ã—á–Ω–æ ~50-60% –æ—Ç Tokyo demand
```

### TODO –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å URL** –≤ `backend/pkg/sources/config.go`:
  ```go
  // –°—Ç–∞—Ä—ã–π (404):
  Kansai.URL = "https://www.kansai-td.co.jp/denkiyoho/download.html"

  // –ù–æ–≤—ã–π (–Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å):
  Kansai.URL = "https://www.kansai-td.co.jp/english/home/denkiyoho/area-performance/index.html"
  ```

- [ ] **–°–∫–∞—á–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π CSV** —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –≤—Ä—É—á–Ω—É—é
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç** (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏, –∑–∞–≥–æ–ª–æ–≤–∫–∏, –µ–¥–∏–Ω–∏—Ü—ã)
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å adapter** –µ—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç TEPCO
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å testdata** —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- English page: https://www.kansai-td.co.jp/english/home/denkiyoho/
- Actual data: https://www.kansai-td.co.jp/english/home/denkiyoho/area-performance/index.html
- Japanese hub: https://japanesepower.org/Kansai_main.html (third-party)

---

## üí¥ 3. JEPX (Japan Electric Power Exchange)

### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö**: Day-ahead spot prices (hourly)
- **–†–µ–≥–∏–æ–Ω—ã**: Tokyo, Kansai, + 8 –¥—Ä—É–≥–∏—Ö –∑–æ–Ω (–≤—Å–µ–≥–æ 10)
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç**: https://www.jepx.jp/en/

### ‚úÖ –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (2025-11-03)
**–†–ê–ë–û–¢–ê–ï–¢ —á–µ—Ä–µ–∑ third-party** ‚úÖ

```
–¢–µ—Å—Ç: ./fetch-jepx -area tokyo -date 2025-11-03 --use-http
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úì SUCCESS
–ò—Å—Ç–æ—á–Ω–∏–∫: https://japanesepower.org/jepxSpot.csv
–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 690ms (Tokyo), 77ms (Kansai)
–¢–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö: 24 (hourly, –∏–∑–≤–ª–µ—á–µ–Ω–æ –∏–∑ 30-min intervals)

Tokyo: 7.76 - 15.53 JPY/kWh (avg 11.48)
Kansai: 2.01 - 12.16 JPY/kWh (avg 8.51)
```

### ‚úÖ –†–µ—à–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ

**URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞:**
```go
// –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π JEPX: —Ç–æ–ª—å–∫–æ web interface (–Ω–µ—Ç –ø—Ä—è–º–æ–≥–æ CSV)
https://www.jepx.jp/en/electricpower/market-data/spot/

// Third-party (japanesepower.org): CSV —Å–æ –≤—Å–µ–π –∏—Å—Ç–æ—Ä–∏–µ–π ‚úì
https://japanesepower.org/jepxSpot.csv
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ CSV:**
- –§–æ—Ä–º–∞—Ç: datetime, Date, PeriodID, —Ü–µ–Ω—ã –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
- –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã: 30-–º–∏–Ω—É—Ç–Ω—ã–µ (48 periods/day)
- –ù–∞—à –∞–¥–∞–ø—Ç–µ—Ä: –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ hourly (:00:00, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç :30:00)
- –í—Å–µ —Ä–µ–≥–∏–æ–Ω—ã –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ

### –î–∞–Ω–Ω—ã–µ –∑–∞ 2025-11-03 (testdata)
```json
Total points: 24 (hourly)
Price range: 21.52 - 51.37 JPY/kWh
Source: JEPX
```

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–∏–∑ JEPX website):**
- **Units**: JPY/kWh (Yen per kilowatt-hour)
- **Time intervals**: 30-minute or hourly (–Ω–∞—à –∞–¥–∞–ø—Ç–µ—Ä –æ–∂–∏–¥–∞–µ—Ç hourly)
- **Areas**: 9 regions + "All Areas" aggregate

**–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ CSV:**
```csv
Date,Time,Tokyo Price,Kansai Price,...
2025-11-03,00:00,21.52,20.84,...
2025-11-03,01:00,19.35,18.92,...
...
```

### –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è
- **–§–æ—Ä–º–∞—Ç**: JPY/kWh (—è–ø–æ–Ω—Å–∫–∏–µ –π–µ–Ω—ã –∑–∞ –∫–∏–ª–æ–≤–∞—Ç—Ç-—á–∞—Å)
- **–î–∏–∞–ø–∞–∑–æ–Ω**: –æ–±—ã—á–Ω–æ 15-50 JPY/kWh
- **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–Ω—ã**: –≤–æ–∑–º–æ–∂–Ω—ã (—Ä–µ–¥–∫–æ, –ø—Ä–∏ –∏–∑–±—ã—Ç–∫–µ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º–æ–π —ç–Ω–µ—Ä–≥–∏–∏)

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **Day-ahead auction**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**: –î–∞–Ω–Ω—ã–µ –∑–∞ –¥–µ–Ω—å D –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –¥–µ–Ω—å D-1

### –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```
–¢–∏–ø–∏—á–Ω—ã–µ spot prices –¥–ª—è Tokyo/Kansai:
- –ù–æ—á—å (00:00-06:00): 15-25 JPY/kWh (–Ω–∏–∑–∫–∏–π —Å–ø—Ä–æ—Å)
- –î–µ–Ω—å (10:00-20:00): 25-40 JPY/kWh (–≤—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å)
- –ü–∏–∫ (18:00-20:00): 35-50+ JPY/kWh (–≤–µ—á–µ—Ä–Ω–∏–π –ø–∏–∫)

–°–µ–∑–æ–Ω–Ω–∞—è –≤–∞—Ä–∏–∞—Ü–∏—è:
- –õ–µ—Ç–æ (–∏—é–ª—å-–∞–≤–≥—É—Å—Ç): –≤—ã—à–µ –∏–∑-–∑–∞ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–≤
- –ó–∏–º–∞ (–¥–µ–∫–∞–±—Ä—å-—Ñ–µ–≤—Ä–∞–ª—å): —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –í–µ—Å–Ω–∞/–æ—Å–µ–Ω—å: —Å–∞–º—ã–µ –Ω–∏–∑–∫–∏–µ —Ü–µ–Ω—ã

Tokyo –æ–±—ã—á–Ω–æ –¥–æ—Ä–æ–∂–µ Kansai –Ω–∞ 5-10%
```

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

- [x] **–ù–∞–π–¥–µ–Ω —Ä–∞–±–æ—á–∏–π URL**: https://japanesepower.org/jepxSpot.csv
- [x] **–û–±–Ω–æ–≤–ª—ë–Ω adapter**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ datetime column –∏ 30-min intervals
- [x] **Timestamps**: JST (Asia/Tokyo), –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ ‚úì
- [x] **–í–∞–ª–∏–¥–∞—Ü–∏—è**: Tokyo –¥–æ—Ä–æ–∂–µ Kansai –Ω–∞ ~35% (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- **Japanese Power Hub**: https://japanesepower.org/Tokyo_main.html
  - Free CSV downloads
  - JEPX Spot History + Intraday
  - –ü–æ —Ä–µ–≥–∏–æ–Ω–∞–º (Tokyo, Kansai, etc.)

- **ICE JEPX Data**: https://developer.ice.com/ (commercial, API)

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- Main site: https://www.jepx.jp/en/
- Day-ahead market: https://www.jepx.jp/en/electricpower/market-data/spot/
- Disclaimer: https://www.jepx.jp/en/others/exemption.html

---

## üîã 4. OCCTO (Organization for Cross-regional Coordination)

### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö**: Reserve capacity margin (system-wide)
- **–û—Ö–≤–∞—Ç**: 10 —Ä–µ–≥–∏–æ–Ω–æ–≤ –Ø–ø–æ–Ω–∏–∏
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç**: https://www.occto.or.jp/en/

### ‚úÖ –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (2025-11-03)
**–†–ê–ë–û–¢–ê–ï–¢ —á–µ—Ä–µ–∑ HTTP API** ‚úÖ

```
–¢–µ—Å—Ç: ./fetch-reserve -date 2025-11-03 --use-http
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úì SUCCESS
–ò—Å—Ç–æ—á–Ω–∏–∫: https://web-kohyo.occto.or.jp/kks-web-public/download
–†–µ–≥–∏–æ–Ω–æ–≤: 10 (–≤—Å–µ —è–ø–æ–Ω—Å–∫–∏–µ —Ä–µ–≥–∏–æ–Ω—ã)
–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~1 —Å–µ–∫—É–Ω–¥–∞

Reserve margins (all stable > 8%):
- Tokyo: 15.71%
- Kansai: 18.39%
- Hokkaido: 17.93%
- + 7 –¥—Ä—É–≥–∏—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
```

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

**1. Testdata —É—Å—Ç–∞—Ä–µ–ª–∏:**
```
Testdata: internal/adapters/testdata/occto-sample.csv
–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ 2025-11-03
```

**2. HTTP fetch –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω:**
```go
// –í fetch-reserve-http/main.go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ testdata
// HTTP fetching –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
```

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

**URL –¥–ª—è CSV —Å–∫–∞—á–∏–≤–∞–Ω–∏—è (–Ω–∞–π–¥–µ–Ω —á–µ—Ä–µ–∑ WebSearch):**
```
https://web-kohyo.occto.or.jp/kks-web-public/download

Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
https://web-kohyo.occto.or.jp/kks-web-public/download/downloadCsv?jhSybt=02&tgtYmdFrom=YYYY/MM/DD&tgtYmdTo=YYYY/MM/DD
```

–ü—Ä–∏–º–µ—Ä:
```
tgtYmdFrom=2025/11/03&tgtYmdTo=2025/11/03
```

### 10 —Ä–µ–≥–∏–æ–Ω–æ–≤ –Ø–ø–æ–Ω–∏–∏
1. **Hokkaido** (ÂåóÊµ∑ÈÅì)
2. **Tohoku** (Êù±Âåó)
3. **Tokyo** (Êù±‰∫¨) - –≤–∫–ª—é—á–∞–µ—Ç Kanto
4. **Chubu** (‰∏≠ÈÉ®)
5. **Hokuriku** (ÂåóÈô∏)
6. **Kansai** (Èñ¢Ë•ø)
7. **Chugoku** (‰∏≠ÂõΩ)
8. **Shikoku** (ÂõõÂõΩ)
9. **Kyushu** (‰πùÂ∑û)
10. **Okinawa** (Ê≤ñÁ∏Ñ)

### –û–∂–∏–¥–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```json
{
  "date": "2025-11-03",
  "reserves": [
    {
      "region": "tokyo",
      "demand_mw": 35000,
      "capacity_mw": 42000,
      "reserve_percent": 20.0
    },
    ...10 —Ä–µ–≥–∏–æ–Ω–æ–≤
  ]
}
```

### –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞ reserve margin
```
reserve_percent = ((capacity_mw - demand_mw) / capacity_mw) √ó 100
```

–ü—Ä–∏–º–µ—Ä:
```
Capacity: 42,000 MW
Demand:   35,000 MW
Reserve:  (42,000 - 35,000) / 42,000 √ó 100 = 16.67%
```

### –†–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
```
–£—Ä–æ–≤–Ω–∏ reserve margin:
- 20%+  : –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ (–∏–∑–±—ã—Ç–æ–∫ –º–æ—â–Ω–æ—Å—Ç–∏)
- 10-20%: –ù–æ—Ä–º–∞–ª—å–Ω–æ (—Å—Ç–∞–±–∏–ª—å–Ω–æ)
- 5-10% : –í–Ω–∏–º–∞–Ω–∏–µ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∑–∞–ø–∞—Å)
- <5%   : –ö–†–ò–¢–ò–ß–ù–û (—Ä–∏—Å–∫ –±–ª—ç–∫–∞—É—Ç–∞)

–¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º:
- Tokyo:    10-20% (–∫—Ä—É–ø–Ω–µ–π—à–∞—è –∑–æ–Ω–∞)
- Kansai:   12-18%
- Hokkaido: 25-40% (–º–∞–ª—ã–π —Å–ø—Ä–æ—Å)
- Kyushu:   15-25%
```

### TODO –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [ ] **–î–æ–±–∞–≤–∏—Ç—å HTTP fetching** –≤ `cmd/fetch-reserve-http/main.go`:
  ```go
  url := fmt.Sprintf(
    "https://web-kohyo.occto.or.jp/kks-web-public/download/downloadCsv?jhSybt=02&tgtYmdFrom=%s&tgtYmdTo=%s",
    date, date
  )
  ```

- [ ] **–°–∫–∞—á–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π CSV** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å adapter** –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ OCCTO CSV

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–µ–≥–∏–æ–Ω–æ–≤** (–∞–Ω–≥–ª–∏–π—Å–∫–∏–µ vs —è–ø–æ–Ω—Å–∫–∏–µ)

- [ ] **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—É–ª—ã** reserve_percent

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å testdata** —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- Main site: https://www.occto.or.jp/en/
- Reserve margin system: https://web-kohyo.occto.or.jp/kks-web-public/
- Download page: https://web-kohyo.occto.or.jp/kks-web-public/download
- Manual: https://www.occto.or.jp/occtosystem2/manual.html

---

## üìã –°–≤–æ–¥–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

| –ò—Å—Ç–æ—á–Ω–∏–∫ | –°—Ç–∞—Ç—É—Å | HTTP Fetch | Testdata | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|----------|--------|------------|----------|----------------------|
| **TEPCO (Tokyo)** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ Official CSV | ‚úÖ OK | - |
| **Kansai Electric** | ‚ö†Ô∏è Testdata only | ‚ùå No simple CSV | ‚ö†Ô∏è –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å | üü° MEDIUM |
| **JEPX Spot** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ Third-party CSV | ‚úÖ OK | - |
| **OCCTO Reserve** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ HTTP API | ‚úÖ OK | - |

---

## üîß –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

1. **TEPCO (Tokyo)** ‚úÖ
   - HTTP fetch: –†–∞–±–æ—Ç–∞–µ—Ç
   - Testdata: –ê–∫—Ç—É–∞–ª—å–Ω—ã

2. **JEPX Spot Prices** ‚úÖ
   - URL: –û–±–Ω–æ–≤–ª—ë–Ω –Ω–∞ japanesepower.org
   - Adapter: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 30-min intervals
   - Tested: Tokyo –∏ Kansai –∑–∞ 2025-11-03

3. **OCCTO Reserve** ‚úÖ
   - HTTP fetch: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - URL: web-kohyo.occto.or.jp/kks-web-public/download
   - Tested: 10 —Ä–µ–≥–∏–æ–Ω–æ–≤ –∑–∞ 2025-11-03

### üü° –ù–ï –ö–†–ò–¢–ò–ß–ù–û (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å)

4. **Kansai Electric** üü° MEDIUM (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–æ–¥–∞–∫—à–µ–Ω)
   - –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ CSV API
   - –†–µ—à–µ–Ω–∏–µ: –û—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ testdata –¥–ª—è –¥–µ–º–æ
   - –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ: –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ API

5. **Testdata –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**
   - Kansai, OCCTO: –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞ November 2025
   - TEPCO, JEPX: –ê–∫—Ç—É–∞–ª—å–Ω—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç live data)

6. **–í–∞–ª–∏–¥–∞—Ü–∏—è end-to-end**
   - –î–µ–π—Å—Ç–≤–∏–µ: –ó–∞–ø—É—Å—Ç–∏—Ç—å `./test-data-fetch.sh 2025-11-05`

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –ü–æ–ª–µ–∑–Ω—ã–µ third-party –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- **Japanese Power Hub**: https://japanesepower.org/
  - CSV downloads –¥–ª—è –≤—Å–µ—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
  - JEPX spot history
  - Demand history
  - –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä—ã–Ω–∫—É —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏
- FEPC Electricity Review Japan: https://www.fepc.or.jp/english/
- IEA Japan Electricity: https://www.iea.org/
- ISEP Energy Chart: https://isep-energychart.com/en/

### Timezone
–í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ **JST (Japan Standard Time) = UTC+9**
```
No DST (Daylight Saving Time) in Japan
```

---

## üìù Changelog

**2025-11-05**: –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ 4 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∑–∞ 2025-11-03
- **TEPCO**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π CSV)
- **JEPX**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (third-party japanesepower.org)
- **OCCTO**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API)
- **Kansai**: ‚ö†Ô∏è Testdata only (–Ω–µ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ CSV API)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 3 –∏–∑ 4 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç (75%)
- –ì–æ—Ç–æ–≤–æ –∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è TEPCO, JEPX, OCCTO
